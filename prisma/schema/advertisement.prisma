model Advertisement {
  id String @id @default(uuid())

  title       String
  description String

  location  String
  latitude  Float
  longitude Float

  adShowRangeInMiles Int

  startDate DateTime
  endDate   DateTime

  status AdvertisementStatus @default(RUNNING)

  fileId  String?       @unique
  fileUrl String?
  file    FileInstance? @relation(fields: [fileId], references: [id], onDelete: SetNull)

  advertisementAnalytics AdvertisementAnalytics?

  createdAt DateTime @default(now())
  updatedAt DateTime @default(now()) @updatedAt

  @@map("advertisements")
}

enum AdvertisementStatus {
  RUNNING
  STOPPED
}

model AdvertisementAnalytics {
  id String @id @default(uuid())

  impressions Int @default(0)
  clicks      Int @default(0)

  advertisementId String        @unique
  advertisement   Advertisement @relation(fields: [advertisementId], references: [id], onDelete: Cascade)

  createdAt DateTime @default(now())
  updatedAt DateTime @default(now()) @updatedAt

  @@map("advertisement_analytics")
}
